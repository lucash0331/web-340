<!--
Title: list.ejs
Author: Lucas Hoffman
Date: 09/19/2021
Description: list.ejs file for EMS assignment
-->

<!DOCTYPE html>
<html lang="en">


  <!-- Header Module -->
  <head>
    <%- include('header'); -%>
  </head>
    
  <body>
    <!--Navigation Bar Module-->
    <%- include('navbar'); -%>
    
    <!--Main Content-->
     <main role="main" class="container">
      <div class="jumbotron text-center">
         <h1>Exercise 9.2</h1>
         <p>EMS (Milestone 5): MongoDB Integration</p>
      </div>
    
      <!--Text Section-->
      <div role="main" class="container">
        <br/><br/>
    
        <% if (employees.length) { %>
            <h2>Employee Listing</h2><br />
            
            <!-- Add link to add new employee -->
            <a href="/new">Add New</a>
            
            <!-- Create table to show current employees. -->
            <table class="table table‐hover">
                <thead class="thead‐dark">
                    <tr>
                        <th>First Name</th>
                        <th>Last Name</th>
                        <th>Functions</th>
                    </tr>
                </thead>
                <tbody>
                    <% employees.forEach(function (entry) { %>
                    <tr>
                        <td><%= entry.firstName %></td>
                        <td><%= entry.lastName %></td>
                        <td><a href="/view/<%= entry.firstname %>">View</a></td>
                    </tr>
                    <% }) %>
                </tbody>                
            </table>
        <!-- No entries, go to add new page. -->
        <% } else { %>
            No entries! <a href="/new">Add an employee!</a>
        <% } %>
        <a href="/">Return Home</a>
        <br/>
    </main>
    <br/>
    <br/>
  </body>
  
<!--Site Footer Module-->
</div>
<%- include ('footer'); -%>
<% include ('scripts') %>

</div>
</html>
